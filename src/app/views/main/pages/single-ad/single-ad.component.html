<div class="ad-container" *ngIf="adService.singleData$ | async as ad">
  <div class="single-ad">
    <div class="p-grid">
      <div class="p-col-7">
        <div class="title">
          <h1 class="ad-title">{{ ad.title }}</h1>
          <div class="favorite" *ngIf="ad.favorite">
            <i class="fas fa-crown"></i>
          </div>
        </div>
        <div class="slider">
          <ng-image-slider [images]="imageObject" #nav></ng-image-slider>
        </div>

        <h2 class="ad-desc-title">Opis oglasa</h2>
        <p class="ad-desc">
          {{ ad.description }}
        </p>
      </div>
      <div class="p-col-5">
        <div class="info right">
          <ul>
            <li><b>Stanje</b>: {{ad.status}}</li>
            <li><b>Kategorija</b>: {{ ad.category }}</li>
            <li><b>Model</b>: {{ ad.model }}</li>
            <li><b>Godiste</b>: {{ ad.year }}</li>
            <li><b>Cena</b>: {{ ad.price }}RSD</li>
          </ul>
          <h2 class="ad-status">
            Status:
            <span [ngClass]="ad.sold ? 'sold' : 'active'" class="ad-status">{{
              ad.sold ? "Prodat" : "Aktivan"
            }}</span>
            <button (click)="setStatusToSold(ad._id)" *ngIf="currentUser === ad.user._id" class="btn primary btn-sold">Ukloni oglas</button>
          </h2>
        </div>

        <app-profile-card [user]="ad.user" [favorite]="ad.favorite" [_id]="ad.user._id"></app-profile-card>
      </div>
    </div>
  </div>

  <div class="category-ads" *ngIf="adService.adsWithSameCategory$ | async as ads">
    <h2>Jo≈° oglasa iz kategorije {{ad.category}}</h2>
    <ng-container *ngIf="ads.length; else noAds">
    <div class="category-container">
      <div class="category-ad" *ngFor="let ad of ads">
        <h3>{{ad.title}}</h3>
        <img
          src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/75/2018_Ford_Focus_ST-Line_X_1.0.jpg/1200px-2018_Ford_Focus_ST-Line_X_1.0.jpg"
          alt=""
          width="140"
        />
        <ul class="info category">
          <li><b>Stanje</b>: {{ad.status}}</li>
          <li><b>Model</b>: {{ad.model}}</li>
          <li><b>Godiste</b>: {{ad.year}}</li>
          <li><b>Cena</b>: {{ad.price}}din.</li>
        </ul>
      </div>
    </div>
    </ng-container>

  </div>
</div>
<ng-template #noAds>
  Nema oglasa iz ove kategorije.
</ng-template>
